<% Title="Create Event" %>
  <div class="container  w-50 mt-5 mb-5">
    <form method="post" action="/event/create">
      <div class="form-group">
        <label for="title">Title</label>
        <input name="title" id="title" type="text" class="form-control" placeholder="Enter event's title">
        <span id="error-title">error-title </span>
      </div>
      <div class="form-group">
        <label for="ticketPrice">Ticket price</label>
        <input name="ticketPrice" id="ticketPrice" type="number" class="form-control" placeholder="Enter ticket price">
        <span id="error-Ticket">Ticket price</span>
      </div>
      <div class="form-group">
        <label for="date">Date</label>
        <input name="date" id="date" type="datetime-local" class="form-control" placeholder="Enter event's time">
      </div>
      <div class="form-group">
        <label for="topicId"> Event Topic </label>
        <select name="topicId" id="topicId" class="form-control">
          <option selected disabled hidden> Select your event type </option>
          <% for( let i=0; i < topics.length; i++ ) { %>
            <option value="<%= topics[i].id %>">
              <%= topics[i].name %>
            </option>
            <% } %>
        </select>
      </div>
      <div class="form-group">
        <label for="speakerId"> Speaker </label>
        <select name="speakerId" id="speakerId" class="form-control">
          <option selected disabled hidden> Select speaker </option>
          <% for( let i=0; i < speakers.length; i++ ) { %>
            <option value="<%= speakers[i].id %>">
              <%= speakers[i].name %>
            </option>
            <% } %>
        </select>
      </div>
      <div class="form-group">
        <label for="description">Description</label>
        <textarea name="description" id="description" class="form-control" cols="30" rows="10"></textarea>
        <span id="error-Description">error-Description </span>
      </div>

      <input type="submit" class="btn btn-primary" value="Create">
      <a href="/event" class="ml-2 btn btn-secondary">Back to list</a>
    </form>
  </div>


  <script>


    const errorTitle = document.getElementById('error-title');
    document.getElementById('title').addEventListener('keyup', () => {
      let name = document.getElementById('title').value;
      if (name.length == 0) {
        errorTitle.innerHTML = 'Name is requried';
        return false;
      }
      if (!name.match(/^[A-Za-z]*\S{1}[A - Za - z]*$/)) {
        errorTitle.innerHTML = '<i>&#xf058;</i>';
        return true;
      }
    })

    const errorDescription = document.getElementById('error-description');
    document.getElementById('description').addEventListener('keyup', () => {
      let message = document.getElementById('description').value;
      let required = 1000;
      let left = required - message.length;
      if (left > 0) {
        errorDescription.innerHTML = left + 'more characters required';
        return false;
      }
      errorDescription.innerHTML = '<i>&#xf058;</i>';
      return true;

    })


  </script>